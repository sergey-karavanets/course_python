<h1>Тема урока: функции any(), all(), zip(), enumerate()</h1>

<ol>
	<li>Функция <code>all()</code></li>
	<li>Функция <code>any()</code></li>
	<li>Функция <code>enumerate()</code></li>
	<li>Функция <code>zip()</code></li>
</ol>

<p><strong>Аннотация.</strong> Урок посвящен встроенным функциям <code>all(), any(), zip(), enumerate()</code>.</p>

<h2 style="text-align: center;">Функции all() и any()</h2>

<p>При работе с коллекциями часто приходится определять, выполняется ли некоторое условие одновременно для всех элементов последовательности или хотя бы для одного. Для этого существуют две встроенные функции <code>all()</code> и <code>any()</code>.</p>

<h3 style="text-align: center;">Функция all()</h3>

<p>Встроенная функция <code>all()</code> возвращает значение <code>True</code>, если <strong>все элементы</strong> переданной ей последовательности (итерируемого объекта) истинны (приводятся к значению <code>True</code>), и <code>False</code> в противном случае.</p>

<p>Сигнатура функции следующая: <code>all(iterable)</code>. В качестве <code>iterable</code> может выступать любой итерируемый объект:</p>

<ul>
	<li>список;</li>
	<li>кортеж;</li>
	<li>строка;</li>
	<li>множество;</li>
	<li>словарь и т.д.</li>
</ul>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">print(all([True, True, True]))     #  возвращает True, так как все значения списка равны True
print(all([True, True, False]))    #  возвращает False, так как не все значения списка равны True</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">True
False</code></pre>

<p>Напомним, что в Python все следующие значения приводятся к значению <code>False</code>:</p>

<ul>
	<li>константы <code>None</code> и <code>False</code>;</li>
	<li>нули всех числовых типов данных: <code>0</code>, <code>0.0</code>, <code>0j</code>, <code>Decimal(0)</code>, <code>Fraction(0, 1)</code>;</li>
	<li>пустые коллекции: <code>''</code>, <code>()</code>, <code>[]</code>, <code>{}</code>, <code>set()</code>, <code>range(0)</code>.</li>
</ul>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">print(all([1, 2, 3]))   
print(all([1, 2, 3, 0, 5]))
print(all([True, 0, 1]))
print(all(('', 'red', 'green')))
print(all({0j, 3+4j}))</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">True
False
False
False
False</code></pre>

<p>При работе со словарями функция <code>all()</code> проверяет на соответствие параметрам <code>True</code> ключи словаря, а не их значения.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">dict1 = {0: 'Zero', 1: 'One', 2: 'Two'}
dict2 = {'Zero': 0, 'One': 1, 'Two': 2}

print(all(dict1))
print(all(dict2))</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">False
True</code></pre>

<p>Обратите внимание: если переданный итерируемый объект пустой, то функция <code>all()</code> возвращает значение <code>True</code>.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">print(all([]))          #  передаем пустой список
print(all(()))          #  передаем пустой кортеж
print(all(''))          #  передаем пустую строку
print(all([[], []]))    #  передаем список, содержащий пустые списки</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">True
True
True
False</code></pre>

<h3 style="text-align: center;">Функция any()</h3>

<p>Встроенная функция <code>any()</code> возвращает значение <code>True</code>, если <strong>хотя бы один элемент</strong> переданной ей последовательности (итерируемого объекта) является истинным (приводится к значению <code>True</code>), и <code>False</code> в противном случае.</p>

<p>Сигнатура функции следующая: <code>any(iterable)</code>. В качестве <code>iterable</code> может выступать любой итерируемый объект:</p>

<ul>
	<li>список;</li>
	<li>кортеж;</li>
	<li>строка;</li>
	<li>множество;</li>
	<li>словарь и т.д.</li>
</ul>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">print(any([False, True, False]))       #  возвращает True, так как есть хотя бы один элемент, равный True
print(any([False, False, False]))      #  возвращает False, так как нет элементов, равных True</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">True
False</code></pre>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">print(any([0, 0, 0]))
print(any([0, 1, 0]))
print(any([False, 0, 1]))
print(any(['', [], 'green']))
print(any({0j, 3+4j, 0.0}))</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">False
True
True
True
True</code></pre>

<p>При работе со словарями функция <code>any()</code> проверяет на соответствие <code>True</code> ключи словаря, а не их значения.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">dict1 = {0: 'Zero'}
dict2 = {'Zero': 0, 'One': 1}

print(any(dict1))
print(any(dict2))</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">False
True</code></pre>

<p>Обратите внимание: если переданный объект пуст, то функция <code>any()</code> возвращает значение <code>False</code>.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">print(any([]))          #  передаем пустой список
print(any(()))          #  передаем пустой кортеж
print(any(''))          #  передаем пустую строку
print(any([[], []]))    #  передаем список, содержащий пустые списки</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">False
False
False
False</code></pre>

<h3 style="text-align: center;">Функции all() и any() в связке с функцией map()</h3>

<p>Функции <code>all()</code> и <code>any()</code> могут быть полезны в комбинации с функцией <code>map()</code>, которая может преобразовывать элементы последовательности (итерируемого объекта) к значению <code>True/False</code> в соответствии с неким условием.</p>

<p>Приведенный ниже код, проверяет, <strong>все ли элементы</strong> списка <code>numbers</code> больше $10$:</p>

<pre><code class="language-python">numbers = [17, 90, 78, 56, 231, 45, 5, 89, 91, 11, 19]

result = all(map(lambda x: True if x &gt; 10 else False, numbers))

if result:
    print('Все числа больше 10')
else:
    print('Хотя бы одно число меньше или равно 10')</code></pre>

<p>и выводит:</p>

<pre><code class="language-no-highlight">Хотя бы одно число меньше или равно 10</code></pre>

<p>так как список <code>numbers</code> содержит число $5$, которое не больше чем $10$.</p>

<p>Лямбда функцию, которая преобразует элементы списка <code>numbers</code> в значения <code>True/False</code> можно упростить следующим образом:</p>

<pre><code>result = all(map(lambda x: x &gt; 10, numbers))</code></pre>

<p>Приведенный ниже код, проверяет, что <strong>хотя бы один элемент</strong> списка четное число:</p>

<pre><code class="language-python">numbers = [17, 91, 78, 55, 231, 45, 5, 89, 99, 11, 19]

result = any(map(lambda x: x % 2 == 0, numbers))

if result:
    print('Хотя бы одно число четное')
else:
    print('Все числа нечетные')</code></pre>

<p>и выводит:</p>

<pre><code class="language-no-highlight">Хотя бы одно число четное</code></pre>

<p>так как список <code>numbers</code> содержит четное число $78$.</p>

<h2 style="text-align: center;">Функция enumerate()</h2>

<p>Встроенная функция <code>enumerate()</code> возвращает кортеж из индекса элемента и самого элемента переданной ей последовательности (итерируемого объекта).</p>

<p>Сигнатура функции следующая: <code>enumerate(iterable, start)</code>. В качестве <code>iterable</code> может выступать любой итерируемый объект:</p>

<ul>
	<li>список;</li>
	<li>кортеж;</li>
	<li>строка;</li>
	<li>множество;</li>
	<li>словарь и т.д.</li>
</ul>

<p>С помощью необязательного параметра <code>start</code> можно задать начальное значение индекса. По умолчанию значение параметра <code>start = 0</code>, то есть счет начинается с нуля.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">colors = ['red', 'green', 'blue']

for pair in enumerate(colors):
    print(pair)</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">(0, 'red')
(1, 'green')
(2, 'blue')</code></pre>

<p>Если счет нужно начать с отличного от нуля числа, то нужно передать значение аргумента <code>start</code>.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">colors = ['red', 'green', 'blue']

for pair in enumerate(colors, 100):
    print(pair)</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">(100, 'red')
(101, 'green')
(102, 'blue')</code></pre>

<p>Обратите внимание, функция <code>enumerate()</code> возвращает не список, а специальный объект, который называется итератором. Такой объект похож на список тем, что его можно перебирать циклом <code>for</code>, то есть итерировать. Итератор можно преобразовать в список с помощью функции <code>list()</code>.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">colors = ['red', 'green', 'blue']

pairs = enumerate(colors)

print(pairs)
print(list(pairs))</code></pre>

<p>выводит:</p>

<pre><code class="language-1c">&lt;enumerate object at 0x...&gt;
[(0, 'red'), (1, 'green'), (2, 'blue')]</code></pre>

<p>Мы также можем использовать распаковку кортежей при итерировании с помощью цикла <code>for</code>.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">colors = ['red', 'green', 'blue']
for index, item in enumerate(colors):
    print(index, item)</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">0 red
1 green
2 blue</code></pre>

<p>Такой код является альтернативой коду:</p>

<pre><code class="language-python">colors = ['red', 'green', 'blue']
for i in range(len(colors)):
    print(i, colors[i])</code></pre>

<h2 style="text-align: center;">Функция zip()</h2>

<p>Встроенная функция <code>zip()</code> объединяет отдельные элементы из каждой переданной ей последовательности (итерируемого объекта) в кортежи.</p>

<p>Сигнатура функции следующая: <code>zip(*iterables)</code>. В качестве <code>iterable</code> может выступать любой итерируемый объект:</p>

<ul>
	<li>список;</li>
	<li>кортеж;</li>
	<li>строка;</li>
	<li>множество;</li>
	<li>словарь и т.д.</li>
</ul>

<p style="text-align: center;"><img alt="" src="https://ucarecdn.com/6e5bd777-145f-4d13-a231-677d81dd1b4f/"></p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">numbers = [1, 2, 3]
words = ['one', 'two', 'three']

for pair in zip(numbers, words):
    print(pair)</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">(1, 'one')
(2, 'two')
(3, 'three')</code></pre>

<p>Функция <code>zip()</code>, как и функция <code>enumerate()</code> возвращает не список, а специальный объект, который называется итератором. Такой объект похож на список тем, что его можно перебирать циклом <code>for</code>, то есть итерировать. Итератор можно преобразовать в список с помощью функции <code>list()</code>.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">numbers = [1, 2, 3]
words = ['one', 'two', 'three']

result = zip(numbers, words)

print(result)
print(list(result))</code></pre>

<p>выводит:</p>

<pre><code class="language-1c">&lt;zip object at 0x...&gt;
[(1, 'one'), (2, 'two'), (3, 'three')]</code></pre>

<p>Мы можем передавать функции <code>zip()</code> сколько угодно итерируемых объектов.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">numbers = [1, 2, 3]
words = ['one', 'two', 'three']
romans = ['I', 'II', 'III']

result = zip(numbers, words, romans)
print(list(result))</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">[(1, 'one', 'I'), (2, 'two', 'II'), (3, 'three', 'III')]</code></pre>

<p>Мы можем передать функции <code>zip()</code> даже один итерируемый объект.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">numbers = [1, 2, 3]
result = zip(numbers)
print(list(result))</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">[(1,), (2,), (3,)]</code></pre>

<p>Если функции <code>zip()</code> передать итерируемые объекты, имеющие разную длину, то объект с наименьшим количеством элементов определяет итоговую длину.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">numbers = [1, 2, 3, 4]
words = ['one', 'two']
romans = ['I', 'II', 'III']

result = zip(numbers, words, romans)
print(list(result))</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">[(1, 'one', 'I'), (2, 'two', 'II')]</code></pre>

<h3 style="text-align: center;">Частые сценарии использования функции zip()</h3>

<p><strong>Сценарий 1.</strong> Функция <code>zip()</code> удобна для создания словарей, когда ключи и значения находятся в разных списках.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">keys = ['name', 'age', 'gender']
values = ['Timur', 28, 'male']

info = dict(zip(keys, values))
print(info)</code></pre>

<p>выводит:</p>

<pre><code class="language-no-highlight">{'name': 'Timur', 'age': 28, 'gender': 'male'}</code></pre>

<p><strong>Сценарий 2.</strong> Функция <code>zip()</code> удобна для одновременного (параллельного) итерирования сразу по нескольким коллекциям.</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">name = ['Timur', 'Ruslan', 'Rustam']
age = [28, 21, 19]

for x, y in zip(name, age):
    print(x, y)</code></pre>

<p>выводит: </p>

<pre><code class="language-no-highlight">Timur 28
Ruslan 21
Rustam 19</code></pre>

<h2 style="text-align: center;">Примечания</h2>

<p><strong>Примечание 1.</strong> Итераторы – важная концепция языка Python. Нужно помнить:</p>

<ul>
	<li>итераторы можно обойти циклом <code>for</code>;</li>
	<li>итератор можно преобразовать в список или кортеж, с помощью функций <code>list()</code> и <code>tuple()</code>;</li>
	<li>итератор можно распаковать с помощью <code>*</code>.</li>
</ul>

<p><strong>Примечание 2.</strong> Реализация встроенных функций <code>all()</code> и <code>any()</code> выглядит <strong><em>примерно</em></strong> так:</p>

<pre><code class="language-python">def all(iterable):
    for item in iterable:
       if not item:
           return False
    return True

def any(iterable):
    for item in iterable:
        if item:
            return True
    return False</code></pre>

<p><strong>Примечание 3.</strong> Мы можем использовать одновременно функции <code>zip()</code> и <code>enumerate()</code>:</p>

<p>Приведенный ниже код:</p>

<pre><code class="language-python">list1 = ['a1', 'a2', 'a3']
list2 = ['b1', 'b2', 'b3']

for index, (item1, item2) in enumerate(zip(list1, list2)):
    print(index, item1, item2)</code></pre>

<p>выводит: </p>

<pre><code class="language-no-highlight">0 a1 b1
1 a2 b2
2 a3 b3</code></pre>

<h2 style="text-align: right;"><strong>Made with 💛 by BEEGEEK</strong></h2>