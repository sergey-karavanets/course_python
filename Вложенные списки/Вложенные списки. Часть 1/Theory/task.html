<h1>Тема урока: вложенные списки</h1>

<ol>
	<li>Вложенные списки</li>
	<li>Объявление и индексация</li>
	<li>Функции <code>len(), max(), min()</code></li>
	<li>Списочные методы</li>
</ol>

<p><strong>Аннотация.</strong> Урок посвящен вложенным спискам, то есть спискам, входящим в качестве элементов в другие списки.</p>

<h2 style="text-align: center;">Введение</h2>

<p>Как мы уже знаем, список представляет собой <strong>упорядоченную</strong> последовательность элементов, пронумерованных от $0$. Элементами списка могут быть любые типы данных – числа, строки, булевы значения и т.д. Например,</p>

<pre><code class="language-python">numbers = [10, 3]
constants = [3.1415, 2.71828, 1.1415]
countries = ['Russia', 'Armenia', 'Argentina']
flags = [True, False]</code></pre>

<p>Список <code>numbers</code> состоит из $2$ элементов, и каждый из них — <strong>целое число:</strong></p>

<ul>
	<li><code>numbers[0] == 10</code>;</li>
	<li><code>numbers[1] == 3</code>.</li>
</ul>

<p>Список <code>constants</code> состоит из $3$ элементов, каждый из которых — <strong>вещественное число:</strong></p>

<ul>
	<li><code>constants[0] == 3.1415</code>;</li>
	<li><code>constants[1] == 2.71828</code>;</li>
	<li><code>constants[2] == 1.1415</code>.</li>
</ul>

<p>Список <code>countries</code> состоит из $3$ элементов, каждый из которых — <strong>строка:</strong></p>

<ul>
	<li><code>countries[0] == 'Russia'</code>;</li>
	<li><code>countries[1] == 'Armenia'</code>;</li>
	<li><code>countries[2] == 'Argentina'</code>.</li>
</ul>

<p>Список <code>flags</code> состоит из $2$ элементов, и каждый из них — <strong>булево значение:</strong></p>

<ul>
	<li><code>flags[0] == True</code>;</li>
	<li><code>flags[1] == False</code>.</li>
</ul>

<p>Мы также говорили, что элементы списка не обязательно должны иметь одинаковый тип данных. Список может содержать значения <strong>разных типов данных</strong>:</p>

<pre><code class="language-python">info = ['Timur', 1992, 72.5]</code></pre>

<p>Список <code>info</code> содержит строковое значение, целое число и число с плавающей точкой:</p>

<ul>
	<li><code>info[0] == 'Timur'</code>;</li>
	<li><code>info[1] == 1992</code>;</li>
	<li><code>info[2] == 72.5</code>.</li>
</ul>

<p><img alt="" height="49" src="https://ucarecdn.com/6959a12e-0a1b-49e5-a81c-17a7c55d379d/" style="float: left;" width="49">Обычно элементы списка содержат данные одного типа и на практике редко приходится создавать списки содержащие элементы разных типов данных.</p>

<h2 style="text-align: center;">Вложенные списки</h2>

<p>Оказывается, элементами списков могут быть другие списки и на практике такая конструкция оказывается очень полезной. Такие списки называются <strong>вложенными списками</strong>.</p>

<h3 style="text-align: center;">Создание вложенного списка</h3>

<p>Работа с вложенными списками принципиально ничем не отличается от работы со списками, например, чисел или строк. Чтобы создать вложенный список, мы также перечисляем элементы через запятую в квадратных скобках:</p>

<pre><code class="language-python">my_list = [[0], [1, 2], [3, 4, 5]]</code></pre>

<p>Переменная <code>my_list</code> ссылается на список, состоящий из других списков (с вложенными списками).</p>

<p><img alt="" height="49" src="https://ucarecdn.com/ca5c242d-88dc-4484-a533-13ebc6df0e36/" style="float: left;" width="49">Поскольку глубина вложенности списка <code>my_list</code> равна двум, то такой список обычно называют <strong>двумерным списком</strong>. На практике, как правило, мы работаем с <strong>двумерными списками</strong>, реже с <strong>трехмерными</strong>.</p>

<p>Рассмотрим программный код:</p>

<pre><code class="language-python">my_list = [[0], [1, 2], [3, 4, 5]]

print(my_list)
print(my_list[0])
print(my_list[1])
print(my_list[2])
print(len(my_list))</code></pre>

<p>Результатом работы такого кода будет:</p>

<pre><code class="language-no-highlight">[[0], [1, 2], [3, 4, 5]]
[0]
[1, 2]
[3, 4, 5]
3</code></pre>

<p>Давайте взглянем на каждую строку приведенного кода поближе.</p>

<ul>
	<li>строка $1$ создает список и присваивает его переменной <code>my_list</code>. Список имеет три элемента, и каждый элемент тоже является списком:

	<ul>
		<li>элементом <code>my_list[0]</code> является список <code>[0]</code>;</li>
		<li>элементом <code>my_list[1]</code> является список <code>[1, 2]</code>;</li>
		<li>элементом <code>my_list[2]</code> является список <code>[3, 4, 5]</code>.</li>
	</ul>
	</li>
	<li>строка $2$ распечатывает весь список <code>my_list</code>;</li>
	<li>строка $3$ распечатывает элемент <code>my_list[0]</code>;</li>
	<li>строка $4$ распечатывает элемент <code>my_list[1]</code>;</li>
	<li>строка $5$ распечатывает элемент <code>my_list[2]</code>;</li>
	<li>строка $6$ распечатает количество элементов списка <code>my_list</code>, то есть число $3$.</li>
</ul>

<h3 style="text-align: center;">Индексация</h3>

<p>При работе с <strong>одномерными списками</strong> мы использовали <strong>индексацию</strong>, то есть обращение к конкретному элементу по его индексу. Аналогично можно индексировать и вложенные списки:</p>

<pre><code class="language-python">my_list = ['Python', [10, 20, 30], ['Beegeek', 'Stepik']]

print(my_list[0])
print(my_list[1])
print(my_list[2])</code></pre>

<p>Результатом работы такого кода будет:</p>

<pre><code class="language-no-highlight">Python
[10, 20, 30]
['Beegeek', 'Stepik']</code></pre>

<p>Так как элементы списка <code>my_list</code> – строка и списки, их также можно индексировать.</p>

<p>Рассмотрим программный код:</p>

<pre><code class="language-python">my_list = ['Python', [10, 20, 30], ['Beegeek', 'Stepik!']]

print(my_list[0][2])       # индексирование строки 'Python'
print(my_list[1][1])       # индексирование списка [10, 20, 30]
print(my_list[2][-1])      # индексирование списка ['Beegeek', 'Stepik!']
print(my_list[2][-1][-1])  # индексирование строки 'Stepik!'</code></pre>

<p>Результатом работы такого кода будет:</p>

<pre><code class="language-no-highlight">t
20
Stepik!
!</code></pre>

<p>Попытка обратиться к элементу списка по несуществующему индексу:</p>

<pre><code class="language-python">print(my_list[3])          # у списка my_list индексы от 0 до 2</code></pre>

<p>вызовет ошибку:</p>

<pre><code class="language-no-highlight">IndexError: index out of range</code></pre>

<h3 style="text-align: center;">Функции len(), max(), min()</h3>

<p>В прошлом курсе мы рассматривали встроенные функции <code>max(), min(), len()</code>, полезные и при работе с вложенными списками (обработке вложенных списков).</p>

<h4 style="text-align: center;"> Функция len()</h4>

<p>Рассмотрим программный код:</p>

<pre><code class="language-python">my_list = [[0], [1, 2], [3, 4, 5], [], [10, 20, 30]]

print(len(my_list))</code></pre>

<p>Результатом работы такого кода будет:</p>

<pre><code class="language-no-highlight">5</code></pre>

<p><img alt="" height="49" src="https://ucarecdn.com/798a8264-fd4e-47a0-9092-8b62f8748250/" style="float: left;" width="49">Обратите внимание, встроенная функция <code>len()</code> возвращает количество элементов (число $5$) списка <code>my_list</code>, а не общее количество элементов во всех списках (число $9$).</p>

<p>Если требуется посчитать общее количество элементов во вложенном списке <code>my_list</code>, мы можем использовать цикл <code>for</code> в связке с функцией <code>len()</code>:</p>

<pre><code class="language-python">total = 0
my_list = [[0], [1, 2], [3, 4, 5], [], [10, 20, 30]]

for li in my_list:
    total += len(li)

print(total)</code></pre>

<p>Результатом работы такого кода будет:</p>

<pre><code class="language-no-highlight">9</code></pre>

<p>Переменная <code>li</code> последовательно принимает все значения элементов списка <code>my_list</code>, то есть является сама по себе списком, поэтому мы можем вызывать функцию <code>len()</code> с переданным аргументом <code>li</code>.</p>

<h4 style="text-align: center;">Функции min() и max()</h4>

<p>Функции <code>min()</code> и <code>max()</code> могут работать и со списками. Если этим функциям передается несколько списков, то целиком возвращается один из переданных списков. При этом сравнение происходит поэлементно: сначала сравниваются первые элементы списков. Если они не равны, то функция <code>min()</code> вернет тот список, первый элемент которого меньше, <code>max()</code> – наоборот. Если первые элементы равны, то будут сравниваться вторые и т. д.</p>

<p>Рассмотрим программный код:</p>

<pre><code class="language-python">list1 = [1, 7, 12, 0, 9, 100] 
list2 = [1, 7, 90] 
list3 = [1, 10]

print(min(list1, list2, list3))
print(max(list1, list2, list3))</code></pre>

<p>Результатом работы такого кода будет:</p>

<pre><code class="language-no-highlight">[1, 7, 12, 0, 9, 100]
[1, 10]</code></pre>

<p>Функции <code>min()</code> и <code>max()</code> также можно использовать при работе с вложенными списками. Рассмотрим программный код:</p>

<pre><code class="language-python">list1 = [[1, 7, 12, 0, 9, 100], [1, 7, 90], [1, 10]]
list2 = [['a', 'b'], ['a'], ['d', 'p', 'q']]

print(min(list1))
print(max(list1))
print(min(list2))
print(max(list2))</code></pre>

<p>Результатом работы такого кода будет:</p>

<pre><code class="language-no-highlight">[1, 7, 12, 0, 9, 100]
[1, 10]
['a']
['d', 'p', 'q']</code></pre>

<p>Обратите внимание – элементы вложенных списков в этой ситуации должны быть сравнимы.</p>

<p>Таким образом, следующий код:</p>

<pre><code class="language-python">my_list = [[1, 7, 12, 0, 9, 100], ['a', 'b']]

print(min(my_list))
print(max(my_list))</code></pre>

<p>приведет к возникновению ошибки:</p>

<pre><code class="language-no-highlight">TypeError: '&lt;' not supported between instances of 'str' and 'int'</code></pre>

<h2 style="text-align: center;">Примечания</h2>

<p><strong>Примечание 1.</strong> Независимо от вложенности списков, нам нужно помнить по возможности все <strong>списочные методы</strong>:</p>

<ol>
	<li>метод <code>append()</code> добавляет новый элемент в конец списка.</li>
	<li>
	<p>метод <code>extend()</code> расширяет один список другим списком.</p>
	</li>
	<li>
	<p>метод <code>insert()</code> вставляет значение в список в заданной позиции.</p>
	</li>
	<li>
	<p>метод <code>index()</code> возвращает индекс первого элемента, значение которого равняется переданному в метод значению.</p>
	</li>
	<li>
	<p>метод <code>remove()</code> удаляет первый элемент, значение которого равняется переданному в метод значению.</p>
	</li>
	<li>
	<p>метод <code>pop()</code> удаляет элемент по указанному индексу и возвращает его.</p>
	</li>
	<li>
	<p>метод <code>count()</code> возвращает количество элементов в списке, значения которых равны переданному в метод значению.</p>
	</li>
	<li>
	<p>метод <code>reverse()</code><strong> </strong>инвертирует порядок следования значений в списке, то есть меняет его на противоположный.</p>
	</li>
	<li>
	<p>метод <code>copy()</code> создает поверхностную копию списка. </p>
	</li>
	<li>
	<p>метод <code>clear()</code> удаляет все элементы из списка.</p>
	</li>
	<li>
	<p>оператор <code>del</code> позволяет удалять элементы списка по определенному индексу.</p>
	</li>
</ol>

<p><strong>Примечание 2.</strong> Методы строк, работающие со списками:</p>

<ol>
	<li>метод <code>split()</code> разбивает строку на слова, используя в качестве разделителя последовательность пробельных символов, символ табуляции (<code>\t</code>) или символ новой строки (<code>\n</code>).</li>
	<li>метод <code>join()</code> собирает строку из элементов списка, используя в качестве разделителя строку, к которой применяется метод.</li>
</ol>

<p><strong>Примечание 3.</strong> Язык Python не ограничивает нас в уровнях вложенности: элементами списка могут быть списки, их элементами могут быть другие списки, элементами которых в свою очередь могут быть другие списки...</p>

<h2 style="text-align: right;"><strong>Made with 💛 by BEEGEEK</strong></h2>