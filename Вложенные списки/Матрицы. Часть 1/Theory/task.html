<h1>Тема урока: матрицы</h1>

<ol>
	<li>Работа с матрицами</li>
	<li>Квадратные и прямоугольные матрицы</li>
	<li>Функции <code>ljust()</code> и <code>rjust()</code></li>
	<li>Главная и побочная диагонали</li>
</ol>

<p><strong>Аннотация.</strong> Урок посвящен работе с матрицами — прямоугольными таблицами.</p>

<h2 style="text-align: center;">Матрицы</h2>

<p>В прошлых уроках мы изучили <strong>вложенные списки</strong>, то есть списки, входящие в качестве элементов в другие списки. Частный случай вложенных списков — матрицы — прямоугольные таблицы, заполненные какими-то значениями, обычно числами.</p>

<p style="text-align: center;"><img alt="" height="357" src="https://ucarecdn.com/64dc946d-4b87-452b-a7cd-f137469590a3/" width="823"></p>

<p><img alt="" height="49" src="https://ucarecdn.com/462c76a3-9931-488d-b3da-43867e8a293a/" style="float: left;" width="49">Матрицы часто применяются в математике, так как многие задачи с их помощью гораздо проще сформулировать, записать и решить.</p>

<p>Для работы с матрицами нужно уметь получать элемент $i$-й строки $j$-го столбца. Для этого обычно заводят список строк матрицы, где каждая строка — список элементов. Получается вложенный список или список списков. Теперь, чтобы получить определенный элемент, достаточно из списка строк матрицы выбрать $i$-ю и взять $j$-й элемент этой строки.</p>

<p>Давайте заведем матрицу размера $3 \times 4$ ($3$ строки и $4$ столбца), содержащую числа, и получим элемент на позиции $(2, 3)$, то есть элемент второй строки в третьем столбце.</p>

<pre><code class="language-python">matrix  = [[2, -5, -11, 0],
           [-9, 4, 6, 13],
           [4, 7, 12, -2]]

print(matrix[1][2])  # вывод элемента на позиции (2, 3)
</code></pre>

<p>В переменной <code>matrix</code> — хранится вся матрица, при этом <code>matrix[1]</code> — список значений во второй строке, <code>matrix[1][2]</code> — элемент в третьем столбце этой строки.</p>

<p style="text-align: center;"><img alt="" height="303" src="https://ucarecdn.com/886afbc9-a70a-481e-bf33-ebdbc4391cba/" width="699"></p>

<p><img alt="" height="50" src="https://ucarecdn.com/dea2afa5-6ab3-473c-96af-bc79facae05d/" style="float: left;" width="50">В математике нумерация строк и столбцов начинается с единицы, а не с нуля. По договоренности сначала всегда указывается строка, а затем — столбец. Элемент на $i$-ой строке, $j$-м столбце матрицы $a$ обозначается так $a_{ij}$.</p>

<h2 style="text-align: center;">Перебор элементов матрицы</h2>

<p>Чтобы перебрать элементы матрицы, необходимо использовать <strong>вложенные циклы</strong>. Например, выведем на экран все элементы матрицы, <strong>перебирая их по строкам</strong>:</p>

<pre><code class="language-python">rows, cols = 3, 4           # rows - количество строк, cols - количество столбцов

matrix  = [[2, 3, 1, 0],
           [9, 4, 6, 8],
           [4, 7, 2, 7]]

for r in range(rows):
    for c in range(cols):
        print(matrix[r][c], end=' ')
    print()</code></pre>

<p>Результатом работы такого кода будет:</p>

<pre><code class="language-no-highlight">2 3 1 0 
9 4 6 8 
4 7 2 7 </code></pre>

<p>Для перебора элементов матрицы <strong>по столбцам</strong> можно использовать следующий код:</p>

<pre><code class="language-python">rows, cols = 3, 4           # rows - количество строк, cols - количество столбцов

matrix  = [[2, 3, 1, 0],
           [9, 4, 6, 8],
           [4, 7, 2, 7]]

for c in range(cols):
    for r in range(rows):
        print(matrix[r][c], end=' ')
    print()</code></pre>

<p>Результатом работы такого кода будет:</p>

<pre><code class="language-no-highlight">2 9 4 
3 4 7 
1 6 2 
0 8 7</code></pre>

<h2 style="text-align: center;">Функции ljust() и rjust()</h2>

<p>Рассмотрим программный код:</p>

<pre><code class="language-python">rows, cols = 3, 4                # rows - количество строк, cols - количество столбцов

matrix  = [[277, -930, 11, 0],
           [9, 43, 6, 87],
           [4456, 8, 290, 7]]

for r in range(rows):
    for c in range(cols):
        print(matrix[r][c], end=' ')
    print()</code></pre>

<p> Результатом работы такого кода будет:</p>

<pre><code class="language-no-highlight">277 -930 11 0 
9 43 6 87 
4456 8 290 7 </code></pre>

<p>Выведенная матрица не сильно похожа на упорядоченный прямоугольник. Элементы матрицы имеют разное количество разрядов и результат вывода получается смазанным. Для решения проблемы удобно использовать строковые методы <code>ljust()</code> и <code>rjust()</code>.</p>

<h3 style="text-align: center;">Метод ljust()</h3>

<p>Строковый метод <code>ljust()</code> выравнивает текст по ширине, <strong>добавляя пробелы</strong> в конец текста.</p>

<p>Результатом выполнения следующего кода:</p>

<pre><code class="language-python">print('a'.ljust(3))
print('ab'.ljust(3))
print('abc'.ljust(3))</code></pre>

<p>будет:</p>

<pre><code class="language-no-highlight">a⎵⎵
ab⎵
abc</code></pre>

<p>Исходная строка не обрезается, даже если в ней больше символов, чем нужно.</p>

<p>Результатом выполнения следующего кода:</p>

<pre><code class="language-python">print('abcdefg'.ljust(3))</code></pre>

<p>будет:</p>

<pre><code class="language-no-highlight">abcdefg</code></pre>

<p>Строковый метод <code>ljust()</code> использует вместо пробела другой символ, если передать ему второй аргумент, необязательный.</p>

<p>Результатом выполнения следующего кода:</p>

<pre><code class="language-python">print('a'.ljust(5, '*'))
print('ab'.ljust(5, '$'))
print('abc'.ljust(5, '#'))</code></pre>

<p>будет:</p>

<pre><code class="language-no-highlight">a****
ab$$$
abc##</code></pre>

<h3 style="text-align: center;">Метод rjust()</h3>

<p>Строковый метод <code>rjust()</code> выравнивает текст по ширине, <strong>добавляя пробелы</strong> в начало текста.</p>

<p>Результатом выполнения следующего кода:</p>

<pre><code class="language-python">print('a'.rjust(3))
print('ab'.rjust(3))
print('abc'.rjust(3))</code></pre>

<p>будет:</p>

<pre><code class="language-no-highlight">⎵⎵a
⎵ab
abc</code></pre>

<p>Исходная строка не обрезается, даже если в ней больше символов, чем нужно.</p>

<p>Результатом выполнения следующего кода:</p>

<pre><code class="language-python">print('abcdefg'.rjust(3))</code></pre>

<p>будет:</p>

<pre><code class="language-no-highlight">abcdefg</code></pre>

<p>Строковый метод <code>rjust()</code> использует вместо пробела другой символ, если передать ему второй аргумент, необязательный.</p>

<p>Результатом выполнения следующего кода:</p>

<pre><code class="language-python">print('a'.rjust(5, '*'))
print('ab'.rjust(5, '$'))
print('abc'.rjust(5, '#'))</code></pre>

<p>будет:</p>

<pre><code class="language-no-highlight">****a
$$$ab
##abc</code></pre>

<p>Применив метод <code>ljust()</code> для выравнивания столбцов при выводе таблицы мы получим следующий код:</p>

<pre><code class="language-python">rows, cols = 3, 4                # rows - количество строк, cols - количество столбцов

matrix  = [[277, -930, 11, 0],
           [9, 43, 6, 87],
           [4456, 8, 290, 7]]

for r in range(rows):
    for c in range(cols):
        print(str(matrix[r][c]).ljust(6), end='')
    print()</code></pre>

<p>Результатом выполнения такого кода будет:</p>

<pre><code class="language-no-highlight">277   -930  11    0     
9     43    6     87    
4456  8     290   7     </code></pre>

<h2 style="text-align: center;">Квадратные матрицы</h2>

<p>Матрица с одинаковым количеством строк и столбцов называется <strong>квадратной</strong>. У квадратной матрицы есть две диагонали:</p>

<ul>
	<li><strong>главная</strong>: проходит из верхнего левого в правый нижний угол матрицы;</li>
	<li><strong>побочная</strong>: проходит из нижнего левого в правый верхний угол матрицы.</li>
</ul>

<p style="text-align: center;"><img alt="" height="302" src="https://ucarecdn.com/97aa4e00-14d6-433e-8fb8-1d97424fa2e0/" width="866"></p>

<p>Элементы с равными индексами <code>i == j</code> находятся на <strong>главной диагонали</strong>. Такие элементы обозначаются <code>matrix[i][i]</code>.</p>

<p>Элементы с индексами <code>i</code> и <code>j</code>, связанными соотношением <code>i + j + 1 = n</code> (или <code>j = n - i - 1</code>), где <code>n</code> — размерность матрицы, находятся на <strong>побочной диагонали</strong>.</p>

<p>Таким образом, чтобы установить элементы главной или побочной диагонали, достаточно одного цикла.</p>

<p>Результатом выполнения следующего кода:</p>

<pre><code class="language-python">n = 8
matrix = [[0]*n for _ in range(n)]    # создаем квадратную матрицу размером 8×8

for i in range(n):                     # заполняем главную диагональ единицами, а побочную двойками
    matrix[i][i] = 1
    matrix[i][n-i-1] = 2

for r in range(n):                     # выводим матрицу
    for c in range(n):
        print(matrix[r][c], end=' ')
    print()</code></pre>

<p>будет:</p>

<pre><code class="language-no-highlight">1 0 0 0 0 0 0 2 
0 1 0 0 0 0 2 0 
0 0 1 0 0 2 0 0 
0 0 0 1 2 0 0 0 
0 0 0 2 1 0 0 0 
0 0 2 0 0 1 0 0 
0 2 0 0 0 0 1 0 
2 0 0 0 0 0 0 1 </code></pre>

<p><img alt="" height="67" src="https://ucarecdn.com/8f2f250b-a7bf-44bf-afaa-5f2020e93f23/" style="float: left;" width="67">Индексы<code>i</code> и <code>j</code>элементов на главной диагонали связаны соотношением <code>i = j</code>. Индексы <code>i</code> и <code>j</code>элементов на побочной диагонали связанны соотношением <code>i + j + 1 = n</code> (или  <code>j = n - i - 1</code>), где <code>n</code> — размерность матрицы</p>

<p>Заметим также, что:</p>

<ul>
	<li>если элемент находится выше главной диагонали, то <code>i &lt; j</code>, если ниже, <code>i &gt; j</code>.</li>
	<li>если элемент находится выше побочной диагонали, то <code>i + j + 1 &lt; n</code>, если ниже, <code>i + j + 1 &gt; n</code>.</li>
</ul>

<h2 style="text-align: center;">Примечания</h2>

<p><strong>Примечание 1.</strong> Чтобы понять, в какой области лежит элемент можно воспользоваться следующей картинкой.</p>

<p><img alt="" src="https://ucarecdn.com/a5ce11f2-dcde-4dda-9427-395841e3a4ef/"></p>

<p><strong>Примечание 2.</strong> Используйте функцию <code>print_matrix()</code> для вывода квадратной матрицы размерности <code>n</code>:</p>

<pre><code class="language-python">def print_matrix(matrix, n, width=1):
    for r in range(n):
        for c in range(n):
            print(str(matrix[r][c]).ljust(width), end=' ')
        print()</code></pre>

<p><strong>Примечание 3.</strong> Для считывания матрицы из <code>n</code> строк, заполненной числами, удобно использовать следующий код:</p>

<pre><code class="language-python">n = int(input())
matrix = []
for i in range(n):
    temp = [int(num) for num in input().split()]
    matrix.append(temp)</code></pre>

<h2 style="text-align: right;"><strong>Made with 💛 by BEEGEEK</strong></h2>